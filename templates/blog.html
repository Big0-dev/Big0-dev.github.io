<!-- Newsletter Signup Section -->
<section class="newsletter-section">
  <div class="container">
    <div class="newsletter-card">
      <div class="newsletter-content">
        <div class="newsletter-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
            <polyline points="22,6 12,13 2,6"/>
          </svg>
        </div>
        <h3>Stay Updated</h3>
        <p>Get the latest tech insights and industry trends delivered directly to your inbox</p>
        
        <form id="newsletter-form" class="custom-newsletter-form">
          <div class="form-group">
            <input 
              type="email" 
              id="email-input" 
              class="form-input" 
              placeholder="Enter your email address"
              required
            />
            <button type="submit" class="form-submit">
              Subscribe
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M5 12h14M12 5l7 7-7 7"/>
              </svg>
            </button>
          </div>
          <div id="form-message" class="form-message"></div>
        </form>
        
        <!-- Hidden Google Form iframe -->
        <iframe 
          id="hidden-google-form"
          src="https://docs.google.com/forms/d/e/1FAIpQLSeB7al7OIUvyIKtUZ_HJd9B-l9ejxq9OuKTGbbGvm8aLvdP3w/viewform?embedded=true" 
          style="display: none;"
          onload="this.contentWindow.postMessage('init', '*')">
        </iframe>
      </div>
    </div>
  </div>
</section>

<!-- Newsletter Script -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  const form = document.getElementById('newsletter-form');
  const emailInput = document.getElementById('email-input');
  const formMessage = document.getElementById('form-message');
  
  // Google Form configuration
  // You'll need to update these values based on your actual form
  const GOOGLE_FORM_ACTION = 'https://docs.google.com/forms/u/0/d/e/1FAIpQLSeB7al7OIUvyIKtUZ_HJd9B-l9ejxq9OuKTGbbGvm8aLvdP3w/formResponse';
  const EMAIL_FIELD_NAME = 'entry.YOUR_FIELD_ID'; // Replace with your actual field ID
  
  form.addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const email = emailInput.value.trim();
    if (!email) return;
    
    // Show loading state
    const submitButton = form.querySelector('.form-submit');
    const originalButtonText = submitButton.innerHTML;
    submitButton.innerHTML = 'Subscribing...';
    submitButton.disabled = true;
    
    // Create form data
    const formData = new FormData();
    formData.append(EMAIL_FIELD_NAME, email);
    
    try {
      // Submit to Google Forms
      await fetch(GOOGLE_FORM_ACTION, {
        method: 'POST',
        mode: 'no-cors',
        body: formData
      });
      
      // Show success message
      formMessage.innerHTML = '<span class="success">âœ“ Thank you for subscribing!</span>';
      formMessage.classList.add('show');
      emailInput.value = '';
      
      // Hide message after 5 seconds
      setTimeout(() => {
        formMessage.classList.remove('show');
      }, 5000);
      
    } catch (error) {
      // Show error message
      formMessage.innerHTML = '<span class="error">Something went wrong. Please try again.</span>';
      formMessage.classList.add('show');
    } finally {
      // Reset button
      submitButton.innerHTML = originalButtonText;
      submitButton.disabled = false;
    }
  });
});
</script>
