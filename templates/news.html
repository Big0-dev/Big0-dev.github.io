{% extends "base.html" %}

{% block title %}News & Updates{% endblock %}
{% block meta_description %}Stay updated with Big0's latest news, announcements, and company updates.{% endblock %}
{% block canonical_path %}/news.html{% endblock %}

{% block custom_css %}
<link rel="stylesheet" href="{{ static }}/home.css">
{% endblock %}

{% block content %}
<!-- Hero -->
<section class="page-hero">
  <div class="container">
    <div class="hero-content text-center max-w-3xl mx-auto">
      <div class="section-label">News</div>
      <h1 class="page-hero-title">Latest News<span class="hero-dot">.</span></h1>
      <p style="color: var(--color-mist); max-width: 560px; margin: 16px auto 0; font-size: 16px; line-height: 1.7;">
        Announcements, achievements, and updates from Big0
      </p>
    </div>
  </div>
</section>

<!-- News -->
<section class="section">
  <div class="container">
    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;">
      {% for article in news_articles %}
      {% if article.external_link %}
      <a href="{{ article.external_link }}" target="_blank" rel="noopener noreferrer" class="case-card" style="text-decoration: none;">
      {% else %}
      <a href="./news/{{ article.slug }}.html" class="case-card" style="text-decoration: none;">
      {% endif %}
        <div class="case-body">
          <div class="case-badges">
            <span class="badge badge-cyan">{{ article.category }}</span>
            <span style="font-size: 11px; color: var(--color-mist);">{{ article.date.strftime('%B %d, %Y') }}</span>
          </div>
          <h3 class="case-title">{{ article.title }}</h3>
          <p class="case-desc">{{ article.excerpt }}</p>
          {% if article.tags %}
          <div class="capability-features" style="margin-top: 8px;">
            {% for tag in article.tags[:3] %}
            <span class="capability-feature">#{{ tag }}</span>
            {% endfor %}
          </div>
          {% endif %}
        </div>
      </a>
      {% endfor %}
    </div>

    {% if page_num and total_pages and total_pages > 1 %}
    <nav class="pagination">
      <div class="pagination-nav">
        {% if page_num > 1 %}
        <a href="./news{% if page_num == 2 %}.html{% else %}-{{ page_num - 1 }}.html{% endif %}" class="pagination-link pagination-prev">
          ← Previous
        </a>
        {% endif %}
        
        <div class="pagination-numbers">
          {% for page in range(1, total_pages + 1) %}
          {% if page == page_num %}
          <span class="pagination-link pagination-current">{{ page }}</span>
          {% else %}
          <a href="./news{% if page == 1 %}.html{% else %}-{{ page }}.html{% endif %}" class="pagination-link">{{ page }}</a>
          {% endif %}
          {% endfor %}
        </div>
        
        {% if page_num < total_pages %}
        <a href="./news-{{ page_num + 1 }}.html" class="pagination-link pagination-next">
          Next →
        </a>
        {% endif %}
      </div>
    </nav>
    {% endif %}
  </div>
</section>

<!-- Include standard CTA -->
{% include 'cta.html' %}
{% endblock %}
